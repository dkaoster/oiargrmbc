import{S as t,i as n,s as e,a as r,c as a,q as o,d as l,b as c,e as s,f as i,m as u,t as f,g as h,h as d,o as p,j as v,k as m,l as g,n as k,p as y,r as w,u as b,v as j,w as E,x as T,y as C,z as $,A as x,B as A,C as P,D as _,E as U}from"./client.5016a9d7.js";import{C as N,c as O}from"./Card.a3f4f200.js";var L,D=(L=Math.random,function(t,n=0,e=t.length){let r=e-(n=+n);for(;r;){const e=L()*r--|0,a=t[r+n];t[r+n]=t[e+n],t[e+n]=a}return t});var I={value:()=>{}};function B(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new M(r)}function M(t){this._=t}function R(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function S(t,n){for(var e,r=0,a=t.length;r<a;++r)if((e=t[r]).name===n)return e.value}function H(t,n,e){for(var r=0,a=t.length;r<a;++r)if(t[r].name===n){t[r]=I,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}M.prototype=B.prototype={constructor:M,on:function(t,n){var e,r=this._,a=R(t+"",r),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<l;)if(e=(t=a[o]).type)r[e]=H(r[e],t.name,n);else if(null==n)for(e in r)r[e]=H(r[e],t.name,null);return this}for(;++o<l;)if((e=(t=a[o]).type)&&(e=S(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new M(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,a=new Array(e),o=0;o<e;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,a)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,o=r.length;a<o;++a)r[a].value.apply(n,e)}};B("start","end","cancel","interrupt");var V={},Z={};function z(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function F(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function q(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function J(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),a=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+q(-n,6):n>9999?"+"+q(n,6):q(n,4))+"-"+q(t.getUTCMonth()+1,2)+"-"+q(t.getUTCDate(),2)+(o?"T"+q(e,2)+":"+q(r,2)+":"+q(a,2)+"."+q(o,3)+"Z":a?"T"+q(e,2)+":"+q(r,2)+":"+q(a,2)+"Z":r||e?"T"+q(e,2)+":"+q(r,2)+"Z":"")}var Y=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,a=[],o=t.length,l=0,c=0,s=o<=0,i=!1;function u(){if(s)return Z;if(i)return i=!1,V;var n,r,a=l;if(34===t.charCodeAt(a)){for(;l++<o&&34!==t.charCodeAt(l)||34===t.charCodeAt(++l););return(n=l)>=o?s=!0:10===(r=t.charCodeAt(l++))?i=!0:13===r&&(i=!0,10===t.charCodeAt(l)&&++l),t.slice(a+1,n-1).replace(/""/g,'"')}for(;l<o;){if(10===(r=t.charCodeAt(n=l++)))i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&++l;else if(r!==e)continue;return t.slice(a,n)}return s=!0,t.slice(a,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==Z;){for(var f=[];r!==V&&r!==Z;)f.push(r),r=u();n&&null==(f=n(f,c++))||a.push(f)}return a}function a(n,e){return n.map((function(n){return e.map((function(t){return l(n[t])})).join(t)}))}function o(n){return n.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?J(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,a,o=r(t,(function(t,r){if(e)return e(t,r-1);a=t,e=n?function(t,n){var e=z(t);return function(r,a){return n(e(r),a,t)}}(t,n):z(t)}));return o.columns=a||[],o},parseRows:r,format:function(n,e){return null==e&&(e=F(n)),[e.map(l).join(t)].concat(a(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=F(t)),a(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:l}}(",").parse;function G(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function K(t,n){return fetch(t,n).then(G)}var Q,W=(Q=Y,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),K(t,n).then((function(t){return Q(t,e)}))});function X(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function tt(t){t[18]=t[20][0],t[19]=t[20][1]}function nt(t,n,e){const r=t.slice();return r[21]=n[e],r}function et(t){let n,e,r,a=t[21]+1+"";return{c(){n=v("option"),e=m(a),this.h()},l(t){n=g(t,"OPTION",{value:!0});var r=k(n);e=y(r,a),r.forEach(l),this.h()},h(){n.__value=r=t[21]+1,n.value=n.__value},m(t,r){i(t,n,r),w(n,e)},p:b,d(t){t&&l(n)}}}function rt(t){return{c:b,l:b,m:b,p:b,d:b}}function at(t){tt(t);let n,e,a,o,s=t[11](t[18])+"",u={ctx:t,current:null,token:null,hasCatch:!1,pending:it,then:lt,catch:ot,value:7};return j(o=Promise.resolve(t[8](t[19])),u),{c(){n=m(s),e=r(),a=_(),u.block.c()},l(t){n=y(t,s),e=c(t),a=_(),u.block.l(t)},m(t,r){i(t,n,r),i(t,e,r),i(t,a,r),u.block.m(t,u.anchor=r),u.mount=()=>a.parentNode,u.anchor=a},p(e,r){if(tt(t=e),96&r&&s!==(s=t[11](t[18])+"")&&U(n,s),u.ctx=t,96&r&&o!==(o=Promise.resolve(t[8](t[19])))&&j(o,u));else{const n=t.slice();n[7]=u.resolved,u.block.p(n,r)}},d(t){t&&l(n),t&&l(e),t&&l(a),u.block.d(t),u.token=null,u=null}}}function ot(t){return{c:b,l:b,m:b,p:b,d:b}}function lt(t){let n,e,a,o,s,u=t[7][t[1]].Traditional+"",f=t[4]&&ct(t),h=t[3]&&st(t);return{c(){n=v("h1"),e=m(u),a=r(),f&&f.c(),o=r(),h&&h.c(),s=_(),this.h()},l(t){n=g(t,"H1",{class:!0});var r=k(n);e=y(r,u),r.forEach(l),a=c(t),f&&f.l(t),o=c(t),h&&h.l(t),s=_(),this.h()},h(){E(n,"class","svelte-kbutjd")},m(t,r){i(t,n,r),w(n,e),i(t,a,r),f&&f.m(t,r),i(t,o,r),h&&h.m(t,r),i(t,s,r)},p(t,n){98&n&&u!==(u=t[7][t[1]].Traditional+"")&&U(e,u),t[4]?f?f.p(t,n):(f=ct(t),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null),t[3]?h?h.p(t,n):(h=st(t),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null)},d(t){t&&l(n),t&&l(a),f&&f.d(t),t&&l(o),h&&h.d(t),t&&l(s)}}}function ct(t){let n,e,r=t[10](t[9](t[7][t[1]].Traditional))+"";return{c(){n=v("p"),e=m(r),this.h()},l(t){n=g(t,"P",{class:!0});var a=k(n);e=y(a,r),a.forEach(l),this.h()},h(){E(n,"class","cj-zh svelte-kbutjd")},m(t,r){i(t,n,r),w(n,e)},p(t,n){98&n&&r!==(r=t[10](t[9](t[7][t[1]].Traditional))+"")&&U(e,r)},d(t){t&&l(n)}}}function st(t){let n,e,r=t[9](t[7][t[1]].Traditional)+"";return{c(){n=v("p"),e=m(r),this.h()},l(t){n=g(t,"P",{class:!0});var a=k(n);e=y(a,r),a.forEach(l),this.h()},h(){E(n,"class","cj-en svelte-kbutjd")},m(t,r){i(t,n,r),w(n,e)},p(t,n){98&n&&r!==(r=t[9](t[7][t[1]].Traditional)+"")&&U(e,r)},d(t){t&&l(n)}}}function it(t){return{c:b,l:b,m:b,p:b,d:b}}function ut(t){let n,e;return{c(){n=v("h1"),e=m("載入中..."),this.h()},l(t){n=g(t,"H1",{class:!0});var r=k(n);e=y(r,"載入中..."),r.forEach(l),this.h()},h(){E(n,"class","svelte-kbutjd")},m(t,r){i(t,n,r),w(n,e)},p:b,d(t){t&&l(n)}}}function ft(t){let n,e,a,o,s,u,f,h,d,p,b,P,_,U,N,O,L,D,I,B,M=[...Array(10).keys()],R=[];for(let n=0;n<M.length;n+=1)R[n]=et(nt(t,M,n));let S={ctx:t,current:null,token:null,hasCatch:!1,pending:ut,then:at,catch:rt,value:20};return j(D=Promise.all([t[5],t[6]]),S),{c(){n=v("div"),e=v("div"),a=v("label"),o=m("程度"),s=r(),u=v("select");for(let t=0;t<R.length;t+=1)R[t].c();f=r(),h=v("label"),d=m("英文字幕"),p=r(),b=v("input"),P=r(),_=v("label"),U=m("中文字幕"),N=r(),O=v("input"),L=r(),S.block.c(),this.h()},l(t){n=g(t,"DIV",{class:!0});var r=k(n);e=g(r,"DIV",{class:!0});var i=k(e);a=g(i,"LABEL",{for:!0,class:!0});var v=k(a);o=y(v,"程度"),v.forEach(l),s=c(i),u=g(i,"SELECT",{name:!0,id:!0});var m=k(u);for(let t=0;t<R.length;t+=1)R[t].l(m);m.forEach(l),f=c(i),h=g(i,"LABEL",{for:!0,class:!0});var w=k(h);d=y(w,"英文字幕"),w.forEach(l),p=c(i),b=g(i,"INPUT",{id:!0,type:!0}),P=c(i),_=g(i,"LABEL",{for:!0,class:!0});var j=k(_);U=y(j,"中文字幕"),j.forEach(l),N=c(i),O=g(i,"INPUT",{id:!0,type:!0}),i.forEach(l),L=c(r),S.block.l(r),r.forEach(l),this.h()},h(){E(a,"for","level"),E(a,"class","svelte-kbutjd"),E(u,"name","level"),E(u,"id","level"),void 0===t[0]&&T((()=>t[13].call(u))),E(h,"for","en"),E(h,"class","svelte-kbutjd"),E(b,"id","en"),E(b,"type","checkbox"),E(_,"for","cj"),E(_,"class","svelte-kbutjd"),E(O,"id","cj"),E(O,"type","checkbox"),E(e,"class","controls svelte-kbutjd"),E(n,"class","wrap")},m(r,l){i(r,n,l),w(n,e),w(e,a),w(a,o),w(e,s),w(e,u);for(let t=0;t<R.length;t+=1)R[t].m(u,null);C(u,t[0]),w(e,f),w(e,h),w(h,d),w(e,p),w(e,b),b.checked=t[3],w(e,P),w(e,_),w(_,U),w(e,N),w(e,O),O.checked=t[4],w(n,L),S.block.m(n,S.anchor=null),S.mount=()=>n,S.anchor=null,I||(B=[$(u,"change",t[13]),$(b,"change",t[14]),$(O,"change",t[15])],I=!0)},p(n,e){if(t=n,0&e){let n;for(M=[...Array(10).keys()],n=0;n<M.length;n+=1){const r=nt(t,M,n);R[n]?R[n].p(r,e):(R[n]=et(r),R[n].c(),R[n].m(u,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=M.length}if(1&e&&C(u,t[0]),8&e&&(b.checked=t[3]),16&e&&(O.checked=t[4]),S.ctx=t,96&e&&D!==(D=Promise.all([t[5],t[6]]))&&j(D,S));else{const n=t.slice();n[20]=S.resolved,S.block.p(n,e)}},d(t){t&&l(n),x(R,t),S.block.d(),S.token=null,S=null,I=!1,A(B)}}}function ht(t){let n,e,p;return e=new N({props:{inputTextCallback:t[12],inputText:t[2],color:"#9c88ff",$$slots:{default:[ft]},$$scope:{ctx:t}}}),{c(){n=r(),a(e.$$.fragment),this.h()},l(t){o('[data-svelte="svelte-1t6as7h"]',document.head).forEach(l),n=c(t),s(e.$$.fragment,t),this.h()},h(){document.title="倉頡練習"},m(t,r){i(t,n,r),u(e,t,r),p=!0},p(t,[n]){const r={};4&n&&(r.inputText=t[2]),16777339&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){p||(f(e.$$.fragment,t),p=!0)},o(t){h(e.$$.fragment,t),p=!1},d(t){t&&l(n),d(e,t)}}}function dt(t,n,e){let r,a,o=!1,l="1",c=0,s="",i=!1,u=!0;const f=t=>t.split("").map((t=>a[t].toUpperCase())).join(" ");p((()=>{e(16,o=!0)}));let h,d;return t.$$.update=()=>{65536&t.$$.dirty&&e(5,h=o&&function(t,n){return fetch(t,n).then(X)}("data/all_chars.json")),65537&t.$$.dirty&&e(6,d=o&&W(`data/mandarin-${l}000.csv`)),1&t.$$.dirty&&l&&e(1,c=0),134&t.$$.dirty&&(!r||s!==r[c].Traditional&&s.toUpperCase()!==f(r[c].Traditional)||(e(1,c+=1),e(1,c%=r.length),e(2,s="")))},[l,c,s,i,u,h,d,r,t=>(e(7,r=D(t)),r),f,t=>t.split("").map((t=>O[t]||t)).join(""),t=>(a=t,""),t=>{e(2,s=t)},function(){l=P(this),e(0,l)},function(){i=this.checked,e(3,i)},function(){u=this.checked,e(4,u)}]}export default class extends t{constructor(t){super(),n(this,t,dt,ht,e,{})}}
